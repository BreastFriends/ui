<mat-card class="upload-description-card">
    <div class="upload-description">
        <h1>Start a New Analysis</h1>
        <p>
            Please upload exactly 4 mammogram images for analysis. These should include:
        </p>
        <ul>
            <li>Two images for the left breast: one Craniocaudal (CC) view and one Mediolateral Oblique (MLO) view.</li>
            <li>Two images for the right breast: one Craniocaudal (CC) view and one Mediolateral Oblique (MLO) view.</li>
        </ul>
        <p>
            The app will automatically sort the images into the correct categories (Left/Right and CC/MLO) based on their filenames. Ensure the filenames contain "_L_" or "_R_" to indicate the side (Left or Right) and "CC" or "MLO" to indicate the view type. For example:
            <strong>1_MG_L_CC_ANON.jpg</strong> or <strong>2_MG_R_MLO_ANON.jpg</strong>.
        </p>
    </div>
</mat-card>

<div class="upload-container">
    <div class="upload-buttons">
        <button mat-flat-button color="primary" (click)="fileInput.click()">Select Images</button>
        <input #fileInput type="file" (change)="onFileChange($event)" multiple accept="image/*" hidden>
        <button mat-flat-button color="accent" (click)="onSubmit()" [disabled]="files.length !== 4">Upload</button>
    </div>
</div>

<mat-card class="images-card" *ngIf="files.length">
    <div class="image-row left-images">
        <h2>Left Images</h2>
        <div class="image-list">
            <div class="image-item" *ngFor="let img of leftCC">
                <img [src]="img.previewUrl" [alt]="img.name">
                <div class="image-label">CC</div>
            </div>
            <div class="image-item" *ngFor="let img of leftMLO">
                <img [src]="img.previewUrl" [alt]="img.name">
                <div class="image-label">MLO</div>
            </div>
        </div>
    </div>
    <div class="image-row right-images">
        <h2>Right Images</h2>
        <div class="image-list">
            <div class="image-item" *ngFor="let img of rightCC">
                <img [src]="img.previewUrl" [alt]="img.name">
                <div class="image-label">CC</div>
            </div>
            <div class="image-item" *ngFor="let img of rightMLO">
                <img [src]="img.previewUrl" [alt]="img.name">
                <div class="image-label">MLO</div>
            </div>
        </div>
    </div>
</mat-card>